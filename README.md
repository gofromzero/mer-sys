# MER System - å¤šç§Ÿæˆ·å•†æˆ·ç®¡ç†å¹³å°

<div align="center">

![MER System](https://img.shields.io/badge/MER%20System-v1.0.0-blue?style=for-the-badge)
![Go](https://img.shields.io/badge/Go-1.25.0-00ADD8?style=for-the-badge&logo=go)
![React](https://img.shields.io/badge/React-19.1.1-61DAFB?style=for-the-badge&logo=react)
![MySQL](https://img.shields.io/badge/MySQL-8.0-4479A1?style=for-the-badge&logo=mysql)
![Redis](https://img.shields.io/badge/Redis-7.0-DC382D?style=for-the-badge&logo=redis)

**åŸºäºå¤šç§Ÿæˆ·æ¶æ„çš„ä¼ä¸šçº§å•†æˆ·èµ„é‡‘æƒç›Šç®¡ç†SaaSå¹³å°**

</div>

## ğŸ“‹ ç›®å½•

- [é¡¹ç›®æ¦‚è¿°](#-é¡¹ç›®æ¦‚è¿°)
- [æ ¸å¿ƒç‰¹æ€§](#-æ ¸å¿ƒç‰¹æ€§)
- [æŠ€æœ¯æ¶æ„](#-æŠ€æœ¯æ¶æ„)
- [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
- [é¡¹ç›®ç»“æ„](#-é¡¹ç›®ç»“æ„)
- [å¼€å‘æŒ‡å—](#-å¼€å‘æŒ‡å—)
- [API æ–‡æ¡£](#-api-æ–‡æ¡£)
- [éƒ¨ç½²æŒ‡å—](#-éƒ¨ç½²æŒ‡å—)
- [æµ‹è¯•](#-æµ‹è¯•)
- [è´¡çŒ®æŒ‡å—](#-è´¡çŒ®æŒ‡å—)
- [è®¸å¯è¯](#-è®¸å¯è¯)

## ğŸš€ é¡¹ç›®æ¦‚è¿°

MER System æ˜¯ä¸€ä¸ªä¸“ä¸ºå¤šç§Ÿæˆ·åœºæ™¯è®¾è®¡çš„å•†æˆ·ç®¡ç†SaaSå¹³å°ï¼Œè‡´åŠ›äºè§£å†³å¤šå•†æˆ·ç¯å¢ƒä¸‹å……å€¼èµ„é‡‘ç®¡ç†å’ŒæœåŠ¡æƒç›Šåˆ†é…çš„å¤æ‚æ€§é—®é¢˜ã€‚è¯¥ç³»ç»Ÿé‡‡ç”¨é¢†åŸŸé©±åŠ¨è®¾è®¡(DDD)æ¶æ„ï¼Œæä¾›ç»Ÿä¸€çš„èµ„é‡‘æµè½¬ç®¡ç†ã€é€æ˜çš„æƒç›Šè¿½è¸ªæœºåˆ¶å’Œå®Œæ•´çš„å¤šç§Ÿæˆ·æ•°æ®éš”ç¦»ã€‚

### æ ¸å¿ƒä»·å€¼

- ğŸ¢ **å¤šç§Ÿæˆ·éš”ç¦»**: åŸºäº `tenant_id` çš„ä¸¥æ ¼æ•°æ®éš”ç¦»æ¶æ„
- ğŸ’° **èµ„é‡‘ç®¡ç†**: ç»Ÿä¸€ç®¡ç†å¤šå•†æˆ·å……å€¼èµ„é‡‘å’Œæƒç›Šåˆ†é…
- ğŸ”’ **å®‰å…¨å¯é **: JWTè®¤è¯ + RBACæƒé™æ§åˆ¶ + æ•°æ®åŠ å¯†
- ğŸ“Š **æ™ºèƒ½åˆ†æ**: å®æ—¶ç›‘æ§å’Œå¤šç»´åº¦è´¢åŠ¡åˆ†ææŠ¥å‘Š
- ğŸ¯ **é«˜å¯æ‰©å±•**: å¾®æœåŠ¡æ¶æ„æ”¯æŒå¼¹æ€§æ‰©å±•

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ¢ å¤šç§Ÿæˆ·ç®¡ç†
- **ç§Ÿæˆ·çº§æ•°æ®éš”ç¦»**: æ¯ä¸ªç§Ÿæˆ·çš„æ•°æ®å®Œå…¨éš”ç¦»ï¼Œç¡®ä¿å®‰å…¨æ€§
- **çµæ´»æƒé™é…ç½®**: æ”¯æŒç§Ÿæˆ·çº§åˆ«çš„ä¸ªæ€§åŒ–é…ç½®å’Œæƒé™ç®¡ç†
- **å¼¹æ€§æ‰©å±•**: æ”¯æŒç§Ÿæˆ·æ•°é‡çš„æ— é™æ‰©å±•

### ğŸ’¼ å•†æˆ·è¿è¥
- **å•†æˆ·æ³¨å†Œä¸ç®¡ç†**: å®Œæ•´çš„å•†æˆ·ç”Ÿå‘½å‘¨æœŸç®¡ç†
- **å•†å“ç®¡ç†**: å•†å“ä¸Šæ¶ã€å®šä»·ã€åº“å­˜å’Œæƒç›Šæ¶ˆè€—è§„åˆ™é…ç½®
- **è®¢å•å¤„ç†**: ç«¯åˆ°ç«¯çš„è®¢å•å¤„ç†å’Œæ ¸é”€æµç¨‹
- **æƒç›Šç›‘æ§**: å®æ—¶æƒç›Šä½™é¢æŸ¥è¯¢å’Œä½¿ç”¨ç»Ÿè®¡

### ğŸ’° èµ„é‡‘æƒç›Š
- **å……å€¼ç®¡ç†**: é›†ä¸­åŒ–çš„å……å€¼èµ„é‡‘ç®¡ç†å’Œåˆ†é…
- **æƒç›Šæ± ç®¡ç†**: çµæ´»çš„æƒç›Šå®šä¹‰ã€åˆ†é…å’Œä½¿ç”¨ç­–ç•¥
- **èµ„é‡‘æµè½¬è¿½è¸ª**: å®Œæ•´çš„èµ„é‡‘æµè½¬è®°å½•å’Œå®¡è®¡è¿½è¸ª
- **æ™ºèƒ½é¢„è­¦**: è‡ªåŠ¨åŒ–çš„ä½™é¢é¢„è­¦å’Œæƒç›Šåˆ°æœŸæé†’

### ğŸ“Š æ•°æ®åˆ†æ
- **å®æ—¶æŠ¥è¡¨**: ç§Ÿæˆ·ã€å•†æˆ·ã€å®¢æˆ·ä¸‰å±‚æ¬¡çš„æ•°æ®æŠ¥è¡¨
- **è´¢åŠ¡åˆ†æ**: å¤šç»´åº¦çš„è´¢åŠ¡æ•°æ®åˆ†æå’Œè¶‹åŠ¿é¢„æµ‹
- **è¿è¥æ´å¯Ÿ**: å•†æˆ·ç»è¥çŠ¶å†µå’Œå®¢æˆ·è¡Œä¸ºåˆ†æ

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### æŠ€æœ¯æ ˆ

**åç«¯æŠ€æœ¯æ ˆ**
- **è¯­è¨€**: Go 1.25.0
- **æ¡†æ¶**: GoFrame v2.9.0 (ä¼ä¸šçº§Webæ¡†æ¶)
- **æ¶æ„**: DDD (é¢†åŸŸé©±åŠ¨è®¾è®¡) + å¾®æœåŠ¡
- **æ•°æ®åº“**: MySQL 8.0 (ä¸»æ•°æ®åº“) + Redis 7.0 (ç¼“å­˜)
- **è®¤è¯**: JWT + RBAC
- **å·¥ä½œç©ºé—´**: Go Workspace ç®¡ç†å¤šæœåŠ¡

**å‰ç«¯æŠ€æœ¯æ ˆ**
- **æ¡†æ¶**: React 19.1.1 + TypeScript 5.8.3
- **UIæ¡†æ¶**: Amis 6.13.0 (ä½ä»£ç å¯è§†åŒ–æ¡†æ¶)
- **çŠ¶æ€ç®¡ç†**: Zustand 4.5.7
- **æ ·å¼**: Tailwind CSS 3.4.17
- **æ„å»ºå·¥å…·**: Vite 7.1.2

**åŸºç¡€è®¾æ–½**
- **å®¹å™¨åŒ–**: Docker + Docker Compose
- **ç½‘ç»œ**: è‡ªå®šä¹‰ç½‘ç»œéš”ç¦»
- **æ•°æ®å·**: æŒä¹…åŒ–æ•°æ®å­˜å‚¨
- **å¥åº·æ£€æŸ¥**: å¤šå±‚æ¬¡æœåŠ¡å¥åº·ç›‘æ§

### æ¶æ„è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        å‰ç«¯å±‚                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Admin Panel (React + Amis)  â”‚  Tenant Portal (Future)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      APIç½‘å…³å±‚                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Gateway Service (è®¤è¯ã€è·¯ç”±ã€é™æµã€ç›‘æ§)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      å¾®æœåŠ¡å±‚                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ User Service â”‚ Tenant Service â”‚ Merchant Service â”‚ ...      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      å…±äº«å±‚                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Repository â”‚ Auth â”‚ Cache â”‚ Config â”‚ Types â”‚ Utils         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      æ•°æ®å±‚                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          MySQL 8.0          â”‚        Redis 7.0             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **Go**: 1.25.0+
- **Node.js**: 18.0+
- **Docker**: 20.0+
- **Docker Compose**: 2.0+
- **Git**: 2.30+

### ä¸€é”®å¯åŠ¨

```bash
# 1. å…‹éš†é¡¹ç›®
git clone <repository-url>
cd mer-sys

# 2. å¯åŠ¨å®Œæ•´å¼€å‘ç¯å¢ƒ
./scripts/docker-dev.sh start

# 3. æŸ¥çœ‹æœåŠ¡çŠ¶æ€
./scripts/docker-dev.sh status

# 4. è®¿é—®æœåŠ¡
# å‰ç«¯ç®¡ç†åå°: http://localhost:5173
# APIç½‘å…³: http://localhost:8080
# ç”¨æˆ·æœåŠ¡: http://localhost:8081
# ç§Ÿæˆ·æœåŠ¡: http://localhost:8082
```

### ç¯å¢ƒé…ç½®

å¤åˆ¶å¹¶é…ç½®ç¯å¢ƒå˜é‡ï¼š

```bash
# å¤åˆ¶ç¯å¢ƒé…ç½®æ–‡ä»¶
cp .env.example .env

# æ ¹æ®éœ€è¦ä¿®æ”¹é…ç½®
vim .env
```

ä¸»è¦é…ç½®é¡¹ï¼š
- æ•°æ®åº“è¿æ¥ä¿¡æ¯
- Redis è¿æ¥ä¿¡æ¯
- JWT å¯†é’¥é…ç½®
- æœåŠ¡ç«¯å£é…ç½®

## ğŸ“ é¡¹ç›®ç»“æ„

```
mer-sys/
â”œâ”€â”€ backend/                     # Go workspace æ ¹ç›®å½•
â”‚   â”œâ”€â”€ go.work                 # Go workspace é…ç½®
â”‚   â”œâ”€â”€ shared/                 # å…±äº«åŒ…ï¼ˆæ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼‰
â”‚   â”‚   â”œâ”€â”€ repository/         # æ•°æ®è®¿é—®å±‚ï¼ˆå¤šç§Ÿæˆ·éš”ç¦»ï¼‰
â”‚   â”‚   â”œâ”€â”€ auth/              # JWT è®¤è¯å’Œæˆæƒ
â”‚   â”‚   â”œâ”€â”€ cache/             # Redis ç¼“å­˜å°è£…
â”‚   â”‚   â”œâ”€â”€ config/            # æ•°æ®åº“å’Œ Redis é…ç½®
â”‚   â”‚   â”œâ”€â”€ health/            # å¥åº·æ£€æŸ¥ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ middleware/        # HTTP ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ types/             # å…±äº«æ•°æ®ç±»å‹
â”‚   â”‚   â””â”€â”€ database/          # æ•°æ®åº“è¿ç§»æ–‡ä»¶
â”‚   â”œâ”€â”€ gateway/               # API ç½‘å…³æœåŠ¡
â”‚   â””â”€â”€ services/              # å¾®æœåŠ¡é›†åˆ
â”‚       â”œâ”€â”€ user-service/      # ç”¨æˆ·ç®¡ç†æœåŠ¡
â”‚       â”œâ”€â”€ tenant-service/    # ç§Ÿæˆ·ç®¡ç†æœåŠ¡
â”‚       â”œâ”€â”€ merchant-service/  # å•†æˆ·ç®¡ç†æœåŠ¡ï¼ˆè§„åˆ’ä¸­ï¼‰
â”‚       â”œâ”€â”€ product-service/   # å•†å“ç®¡ç†æœåŠ¡ï¼ˆè§„åˆ’ä¸­ï¼‰
â”‚       â”œâ”€â”€ order-service/     # è®¢å•ç®¡ç†æœåŠ¡ï¼ˆè§„åˆ’ä¸­ï¼‰
â”‚       â””â”€â”€ report-service/    # æŠ¥è¡¨åˆ†ææœåŠ¡ï¼ˆè§„åˆ’ä¸­ï¼‰
â”œâ”€â”€ frontend/
â”‚   â””â”€â”€ admin-panel/          # ç®¡ç†åå° (React + Amis)
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ components/   # å…±äº«ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ pages/        # é¡µé¢ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ services/     # API æœåŠ¡
â”‚       â”‚   â”œâ”€â”€ stores/       # çŠ¶æ€ç®¡ç†
â”‚       â”‚   â””â”€â”€ types/        # TypeScript ç±»å‹å®šä¹‰
â”‚       â””â”€â”€ package.json
â”œâ”€â”€ docker/                   # Docker é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ mysql/               # MySQL é…ç½®
â”‚   â””â”€â”€ redis/               # Redis é…ç½®
â”œâ”€â”€ docs/                    # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ scripts/                 # å¼€å‘è„šæœ¬
â”œâ”€â”€ docker-compose.yml       # å¼€å‘ç¯å¢ƒç¼–æ’
â””â”€â”€ CLAUDE.md               # Claude Code å¼€å‘æŒ‡å—
```

### å…³é”®ç›®å½•è¯´æ˜

- **`backend/shared/`**: åŒ…å«æ‰€æœ‰å¾®æœåŠ¡å…±äº«çš„æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
- **`backend/services/`**: å„ä¸ªç‹¬ç«‹çš„å¾®æœåŠ¡å®ç°
- **`frontend/admin-panel/`**: åŸºäº React + Amis çš„ç®¡ç†åå°
- **`docker/`**: æ•°æ®åº“å’Œç¼“å­˜çš„é…ç½®æ–‡ä»¶
- **`docs/`**: å®Œæ•´çš„é¡¹ç›®æ–‡æ¡£å’Œæ¶æ„è¯´æ˜

## ğŸ’» å¼€å‘æŒ‡å—

### åç«¯å¼€å‘

```bash
cd backend

# åŒæ­¥ workspace ä¾èµ–
go work sync

# è¿è¡Œç‰¹å®šæœåŠ¡ï¼ˆå¼€å‘æ¨¡å¼ï¼‰
go run ./gateway
go run ./services/user-service

# æ„å»ºæ‰€æœ‰æœåŠ¡
go build ./...

# è¿è¡Œæ‰€æœ‰æµ‹è¯•
go test ./...

# è¿è¡Œç‰¹å®šåŒ…çš„æµ‹è¯•
go test ./shared/repository -v

# æ¸…ç†æ¨¡å—ä¾èµ–
go mod tidy -C ./shared
```

### å‰ç«¯å¼€å‘

```bash
cd frontend/admin-panel

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# ä»£ç æ£€æŸ¥
npm run lint

# è¿è¡Œæµ‹è¯•
npm run test
```

### å¤šç§Ÿæˆ·å¼€å‘è§„èŒƒ

**âš ï¸ é‡è¦ï¼šå¤šç§Ÿæˆ·æ•°æ®è®¿é—®è§„èŒƒ**

æ‰€æœ‰æ•°æ®è®¿é—®å¿…é¡»é€šè¿‡ Repository å±‚ï¼Œç¡®ä¿ç§Ÿæˆ·éš”ç¦»ï¼š

```go
// âœ… æ­£ç¡® - è‡ªåŠ¨æ³¨å…¥ tenant_id
userRepo := repository.NewUserRepository()
users, err := userRepo.FindAllByTenant(ctx)

// âŒ é”™è¯¯ - ç»•è¿‡ç§Ÿæˆ·éš”ç¦»
db := g.DB()
users, err := db.Model("users").All()
```

ç§Ÿæˆ·ä¸Šä¸‹æ–‡é€šè¿‡ HTTP ä¸­é—´ä»¶è‡ªåŠ¨æ³¨å…¥ï¼š

```go
// HTTP ä¸­é—´ä»¶è‡ªåŠ¨ä» X-Tenant-ID å¤´æ³¨å…¥ç§Ÿæˆ·ä¿¡æ¯
func SomeHandler(r *ghttp.Request) {
    ctx := r.GetCtx() // åŒ…å« tenant_id
    // ä½¿ç”¨ ctx è°ƒç”¨ Repository æ–¹æ³•
}
```

## ğŸ“– API æ–‡æ¡£

### å¥åº·æ£€æŸ¥ç«¯ç‚¹

ç³»ç»Ÿæä¾›å¤šå±‚æ¬¡å¥åº·æ£€æŸ¥ï¼š

- `GET /api/v1/health` - å®Œæ•´å¥åº·æ£€æŸ¥ï¼ˆæ•°æ®åº“ã€Redisã€ç³»ç»Ÿèµ„æºï¼‰
- `GET /api/v1/health/ready` - å°±ç»ªæ£€æŸ¥ï¼ˆæ‰€æœ‰ä¾èµ–å¿…é¡»å¥åº·ï¼‰
- `GET /api/v1/health/live` - å­˜æ´»æ£€æŸ¥ï¼ˆåŸºç¡€ç³»ç»Ÿæ£€æŸ¥ï¼‰
- `GET /api/v1/health/simple` - å¿«é€Ÿå¥åº·æ£€æŸ¥
- `GET /api/v1/health/component/{name}` - å•ä¸ªç»„ä»¶æ£€æŸ¥

### è®¤è¯ç«¯ç‚¹

- `POST /api/v1/auth/login` - ç”¨æˆ·ç™»å½•
- `POST /api/v1/auth/logout` - ç”¨æˆ·ç™»å‡º
- `POST /api/v1/auth/refresh` - åˆ·æ–°ä»¤ç‰Œ
- `GET /api/v1/auth/profile` - è·å–ç”¨æˆ·ä¿¡æ¯

### API è§„èŒƒ

- **è®¤è¯**: Bearer Token (JWT)
- **ç§Ÿæˆ·æ ‡è¯†**: HTTP Header `X-Tenant-ID`
- **å†…å®¹ç±»å‹**: `application/json`
- **ç‰ˆæœ¬æ§åˆ¶**: URLè·¯å¾„ç‰ˆæœ¬æ§åˆ¶ (`/api/v1/`)

## ğŸš€ éƒ¨ç½²æŒ‡å—

### å¼€å‘ç¯å¢ƒéƒ¨ç½²

```bash
# å¯åŠ¨å®Œæ•´å¼€å‘ç¯å¢ƒ
./scripts/docker-dev.sh start

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
./scripts/docker-dev.sh status

# æŸ¥çœ‹æœåŠ¡æ—¥å¿—
./scripts/docker-dev.sh logs [service-name]

# åœæ­¢æ‰€æœ‰æœåŠ¡
./scripts/docker-dev.sh stop
```

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

1. **ç¯å¢ƒå‡†å¤‡**
   ```bash
   # è®¾ç½®ç”Ÿäº§ç¯å¢ƒå˜é‡
   export GO_ENV=production
   export DB_HOST=your-mysql-host
   export REDIS_HOST=your-redis-host
   export JWT_SECRET=your-secure-jwt-secret
   ```

2. **æ„å»ºé•œåƒ**
   ```bash
   # æ„å»ºåç«¯æœåŠ¡
   docker build -f backend/gateway/Dockerfile backend/ -t mer-gateway:latest
   docker build -f backend/services/user-service/Dockerfile backend/ -t mer-user-service:latest
   
   # æ„å»ºå‰ç«¯åº”ç”¨
   docker build frontend/admin-panel/ -t mer-admin-panel:latest
   ```

3. **éƒ¨ç½²æœåŠ¡**
   ```bash
   # ä½¿ç”¨ç”Ÿäº§ç¯å¢ƒé…ç½®å¯åŠ¨
   docker-compose -f docker-compose.prod.yml up -d
   ```

### æ•°æ®åº“è¿ç§»

```bash
# æ•°æ®åº“è¿ç§»æ–‡ä»¶ä½äº backend/shared/database/migrations/
# ç³»ç»Ÿå¯åŠ¨æ—¶ä¼šè‡ªåŠ¨æ‰§è¡Œæœªæ‰§è¡Œçš„è¿ç§»
```

## ğŸ§ª æµ‹è¯•

### è¿è¡Œæµ‹è¯•

```bash
# åç«¯æµ‹è¯•
cd backend
go test ./...                              # è¿è¡Œæ‰€æœ‰æµ‹è¯•
go test ./shared/repository -v              # è¿è¡Œç‰¹å®šåŒ…æµ‹è¯•
go test ./shared/test -run TestTenantIsolation -v  # è¿è¡Œç‰¹å®šæµ‹è¯•

# å‰ç«¯æµ‹è¯•
cd frontend/admin-panel
npm run test                               # è¿è¡Œå•å…ƒæµ‹è¯•
npm run test:coverage                      # è¿è¡Œæµ‹è¯•è¦†ç›–ç‡
npm run test:watch                         # ç›‘å¬æ¨¡å¼è¿è¡Œæµ‹è¯•
```

### æµ‹è¯•åˆ†ç±»

- **å•å…ƒæµ‹è¯•**: æµ‹è¯•å•ä¸ªå‡½æ•°å’Œæ–¹æ³•
- **é›†æˆæµ‹è¯•**: æµ‹è¯•æœåŠ¡é—´äº¤äº’å’Œæ•°æ®åº“æ“ä½œ
- **E2Eæµ‹è¯•**: æµ‹è¯•å®Œæ•´çš„ç”¨æˆ·æµç¨‹
- **å¤šç§Ÿæˆ·éš”ç¦»æµ‹è¯•**: ç¡®ä¿ç§Ÿæˆ·æ•°æ®éš”ç¦»çš„ä¸“é¡¹æµ‹è¯•

### æµ‹è¯•è¦†ç›–ç‡è¦æ±‚

- æ ¸å¿ƒä¸šåŠ¡é€»è¾‘: â‰¥ 80%
- Repository å±‚: â‰¥ 90%
- å¤šç§Ÿæˆ·éš”ç¦»: 100%

## ğŸ”§ æ•…éšœæ’æŸ¥

### å¸¸è§é—®é¢˜

1. **Go workspace é—®é¢˜**
   ```bash
   go work sync  # åŒæ­¥ä¾èµ–
   ```

2. **Docker å®¹å™¨å¯åŠ¨å¤±è´¥**
   ```bash
   docker-compose logs -f [service]  # æŸ¥çœ‹å®¹å™¨æ—¥å¿—
   ./scripts/docker-dev.sh status   # æ£€æŸ¥æœåŠ¡çŠ¶æ€
   ```

3. **å‰ç«¯æ„å»ºå¤±è´¥**
   ```bash
   cd frontend/admin-panel
   rm -rf node_modules package-lock.json
   npm install
   ```

4. **æ•°æ®åº“è¿æ¥å¤±è´¥**
   ```bash
   # ç¡®è®¤ MySQL å®¹å™¨çŠ¶æ€
   docker-compose ps mysql
   
   # æ£€æŸ¥æ•°æ®åº“é…ç½®
   cat .env | grep MYSQL
   ```

### è°ƒè¯•å·¥å…·

- **æœåŠ¡æ—¥å¿—**: `docker-compose logs -f [service]`
- **å¥åº·æ£€æŸ¥**: `curl http://localhost:8080/api/v1/health`
- **æ•°æ®åº“æŸ¥è¯¢**: é€šè¿‡ GoFrame çš„ debug æ¨¡å¼æŸ¥çœ‹ SQL
- **Redis ç›‘æ§**: `docker exec -it mer_redis redis-cli monitor`

## ğŸ¤ è´¡çŒ®æŒ‡å—

### å¼€å‘æµç¨‹

1. **Fork é¡¹ç›®**
   ```bash
   git clone <your-fork-url>
   cd mer-sys
   ```

2. **åˆ›å»ºç‰¹æ€§åˆ†æ”¯**
   ```bash
   git checkout -b feature/your-feature-name
   ```

3. **å¼€å‘å’Œæµ‹è¯•**
   ```bash
   # å¼€å‘å®Œæˆåè¿è¡Œæµ‹è¯•
   cd backend && go test ./...
   cd frontend/admin-panel && npm run test
   ```

4. **æäº¤å˜æ›´**
   ```bash
   git add .
   git commit -m "feat: æ·»åŠ æ–°åŠŸèƒ½æè¿°"
   git push origin feature/your-feature-name
   ```

5. **åˆ›å»º Pull Request**

### ä»£ç è§„èŒƒ

**Go ä»£ç è§„èŒƒ**
- ä½¿ç”¨ `gofmt` æ ¼å¼åŒ–ä»£ç 
- éµå¾ª Go å®˜æ–¹ä»£ç è§„èŒƒ
- æ‰€æœ‰å…¬å…±å‡½æ•°å’Œç±»å‹å¿…é¡»æœ‰æ³¨é‡Š
- ä½¿ç”¨ä¸­æ–‡æ³¨é‡Šå’Œæ–‡æ¡£

**å‰ç«¯ä»£ç è§„èŒƒ**
- ä½¿ç”¨ ESLint è¿›è¡Œä»£ç æ£€æŸ¥
- éµå¾ª React Hooks æœ€ä½³å®è·µ
- TypeScript ä¸¥æ ¼æ¨¡å¼
- ç»„ä»¶å’Œå‡½æ•°ä½¿ç”¨ä¸­æ–‡æ³¨é‡Š

**Git æäº¤è§„èŒƒ**
- `feat:` æ–°åŠŸèƒ½
- `fix:` ä¿®å¤é—®é¢˜
- `docs:` æ–‡æ¡£æ›´æ–°
- `style:` ä»£ç æ ¼å¼è°ƒæ•´
- `refactor:` ä»£ç é‡æ„
- `test:` æµ‹è¯•ç›¸å…³
- `chore:` æ„å»ºå’Œè¾…åŠ©å·¥å…·

### é‡è¦çš„å¼€å‘çº¦å®š

1. **å¤šç§Ÿæˆ·éš”ç¦»**: æ°¸è¿œä¸è¦ç»•è¿‡ Repository å±‚çš„ç§Ÿæˆ·è¿‡æ»¤
2. **é”™è¯¯å¤„ç†**: ä½¿ç”¨ GoFrame çš„é”™è¯¯å¤„ç†æœºåˆ¶
3. **é…ç½®ç®¡ç†**: é€šè¿‡ `g.Cfg()` è®¿é—®é…ç½®
4. **æ—¥å¿—è®°å½•**: ä½¿ç”¨ `g.Log()` è¿›è¡Œç»“æ„åŒ–æ—¥å¿—
5. **æµ‹è¯•å…ˆè¡Œ**: æ–°åŠŸèƒ½å¿…é¡»åŒ…å«ç›¸åº”çš„æµ‹è¯•ç”¨ä¾‹

## ğŸ“œ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚è¯¦æƒ…è¯·æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ“ è”ç³»æ–¹å¼

- **é¡¹ç›®ç»´æŠ¤è€…**: MER System Team
- **æŠ€æœ¯æ”¯æŒ**: è¯·æäº¤ [Issue](issues)
- **åŠŸèƒ½å»ºè®®**: è¯·æäº¤ [Feature Request](issues/new?template=feature_request.md)

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®ä¸ºæœ¬é¡¹ç›®æä¾›çš„æ”¯æŒï¼š

- [GoFrame](https://goframe.org) - ä¼ä¸šçº§ Go Web å¼€å‘æ¡†æ¶
- [Amis](https://aisuda.bce.baidu.com/amis) - ä½ä»£ç å‰ç«¯æ¡†æ¶
- [React](https://reactjs.org) - ç”¨æˆ·ç•Œé¢åº“
- [MySQL](https://www.mysql.com) - å…³ç³»å‹æ•°æ®åº“
- [Redis](https://redis.io) - å†…å­˜æ•°æ®ç»“æ„å­˜å‚¨

---

<div align="center">

**ğŸŒŸ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª Starï¼**

Made with â¤ï¸ by MER System Team

</div>