# Story 2.1: merchant-registration-management

## Status
Done

## Story
**As a** ç§Ÿæˆ·ç®¡ç†å‘˜,
**I want** ç®¡ç†ä¸‹å±å•†æˆ·çš„æ³¨å†Œå’ŒåŸºç¡€ä¿¡æ¯,
**so that** æ§åˆ¶å•†æˆ·çš„å‡†å…¥å’Œè¿è¥çŠ¶æ€

## Acceptance Criteria

1. å•†æˆ·æ³¨å†Œç”³è¯·APIï¼ŒåŒ…å«å®Œæ•´çš„å•†æˆ·ä¿¡æ¯éªŒè¯
2. å•†æˆ·å®¡æ‰¹å·¥ä½œæµï¼Œæ”¯æŒæ‰¹å‡†/æ‹’ç»æ“ä½œ
3. å•†æˆ·åŸºç¡€ä¿¡æ¯CRUDæ“ä½œï¼ˆåç§°ã€è”ç³»æ–¹å¼ã€ç»è¥èŒƒå›´ç­‰ï¼‰
4. å•†æˆ·çŠ¶æ€ç®¡ç†ï¼ˆå¾…å®¡æ ¸ã€å·²æ¿€æ´»ã€å·²æš‚åœã€å·²åœç”¨ï¼‰
5. å•†æˆ·åˆ—è¡¨é¡µé¢ï¼Œæ”¯æŒæœç´¢ã€ç­›é€‰å’ŒçŠ¶æ€ç®¡ç†
6. å•†æˆ·è¯¦æƒ…é¡µé¢ï¼Œæ˜¾ç¤ºå®Œæ•´ä¿¡æ¯å’Œæ“ä½œå†å²
7. å•†æˆ·çŠ¶æ€å˜æ›´é€šçŸ¥æœºåˆ¶

## Tasks / Subtasks

- [x] Task 1: è®¾è®¡å’Œå®ç°å•†æˆ·æ•°æ®æ¨¡å‹æ‰©å±• (AC: 1, 3)
  - [x] æ‰©å±•ç°æœ‰merchantsè¡¨ç»“æ„ï¼Œæ·»åŠ ä¸šåŠ¡ä¿¡æ¯å­—æ®µ
  - [x] åˆ›å»ºå•†æˆ·å®¡æ‰¹çŠ¶æ€æšä¸¾å’ŒçŠ¶æ€æµè½¬è§„åˆ™
  - [x] å®ç°å•†æˆ·æ•°æ®éªŒè¯è§„åˆ™å’Œçº¦æŸ
  - [x] åˆ›å»ºå•†æˆ·APIçš„è¯·æ±‚/å“åº”æ¨¡å‹

- [x] Task 2: å®ç°å•†æˆ·æ³¨å†Œå’Œå®¡æ‰¹å·¥ä½œæµAPI (AC: 1, 2)
  - [x] åˆ›å»ºå•†æˆ·æ³¨å†Œç”³è¯·APIç«¯ç‚¹
  - [x] å®ç°å•†æˆ·å®¡æ‰¹ï¼ˆæ‰¹å‡†/æ‹’ç»ï¼‰APIç«¯ç‚¹
  - [x] é›†æˆç°æœ‰çš„æƒé™éªŒè¯ä¸­é—´ä»¶
  - [x] æ·»åŠ å®¡æ‰¹æ“ä½œçš„å®¡è®¡æ—¥å¿—è®°å½•

- [x] Task 3: å¼€å‘å•†æˆ·çŠ¶æ€ç®¡ç†ç³»ç»Ÿ (AC: 4)
  - [x] å®ç°å•†æˆ·çŠ¶æ€å˜æ›´APIç«¯ç‚¹å’Œä¸šåŠ¡é€»è¾‘
  - [x] æ·»åŠ çŠ¶æ€å˜æ›´çš„æƒé™æ£€æŸ¥å’Œå®¡è®¡æ—¥å¿—
  - [x] å®ç°çŠ¶æ€å˜æ›´çš„é€šçŸ¥æœºåˆ¶
  - [x] é›†æˆRedisç¼“å­˜ç”¨äºçŠ¶æ€å¿«é€ŸæŸ¥è¯¢

- [x] Task 4: æ„å»ºå•†æˆ·ç®¡ç†å‰ç«¯ç•Œé¢ (AC: 5, 6)
  - [x] ä½¿ç”¨Amisæ¡†æ¶åˆ›å»ºå•†æˆ·åˆ—è¡¨é¡µé¢
  - [x] å®ç°å•†æˆ·è¯¦æƒ…é¡µé¢å’Œç¼–è¾‘åŠŸèƒ½
  - [x] æ·»åŠ å•†æˆ·çŠ¶æ€ç®¡ç†UIæ“ä½œ
  - [x] å®ç°æœç´¢ã€ç­›é€‰å’Œåˆ†é¡µåŠŸèƒ½

- [x] Task 5: å®ç°å•†æˆ·é€šçŸ¥æœºåˆ¶ (AC: 7)
  - [x] è®¾è®¡é€šçŸ¥æ¨¡æ¿å’Œæ¶ˆæ¯æ ¼å¼
  - [x] é›†æˆé‚®ä»¶å’Œç³»ç»Ÿå†…é€šçŸ¥æœåŠ¡
  - [x] å®ç°çŠ¶æ€å˜æ›´æ—¶çš„è‡ªåŠ¨é€šçŸ¥
  - [x] æ·»åŠ é€šçŸ¥å†å²è®°å½•å’Œç®¡ç†

- [x] Task 6: å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
  - [x] ç¼–å†™å•†æˆ·APIçš„å•å…ƒæµ‹è¯•
  - [x] åˆ›å»ºå‰ç«¯ç»„ä»¶çš„æµ‹è¯•ç”¨ä¾‹
  - [x] å®ç°ç«¯åˆ°ç«¯çš„å•†æˆ·æ³¨å†Œå®¡æ‰¹æµç¨‹æµ‹è¯•
  - [x] éªŒè¯é€šçŸ¥æœºåˆ¶å’ŒçŠ¶æ€ç®¡ç†çš„æµ‹è¯•

## Dev Notes

### Previous Story Insights
ä»Story 1.4çš„å®Œæˆè®°å½•ä¸­è·å¾—çš„å…³é”®ä¿¡æ¯ï¼š
- BaseRepositoryå·²å®ç°ç§Ÿæˆ·éš”ç¦»æœºåˆ¶ï¼Œæ”¯æŒè‡ªåŠ¨æ³¨å…¥tenant_idè¿‡æ»¤æ¡ä»¶ [Source: Story 1.4 completion notes]
- æƒé™æ§åˆ¶ç³»ç»Ÿï¼ˆuseTenantPermissions Hookï¼‰å·²å»ºç«‹ï¼Œå¯å¤ç”¨äºå•†æˆ·ç®¡ç†æƒé™æ§åˆ¶ [Source: Story 1.4 completion notes]
- Amisä½ä»£ç æ¡†æ¶å·²æˆåŠŸåº”ç”¨äºç§Ÿæˆ·ç®¡ç†ç•Œé¢ï¼Œå¯å‚è€ƒå…¶æ¨¡å¼ [Source: Story 1.4 completion notes]
- å®¡è®¡æ—¥å¿—ç³»ç»Ÿå·²å®Œå–„ï¼Œå¯è®°å½•å•†æˆ·ç®¡ç†ç›¸å…³æ“ä½œ [Source: Story 1.4 completion notes]

### Data Models
**Merchant Entity** [Source: architecture/data-models.md#Merchant]:
```typescript
interface Merchant {
  id: string;
  tenant_id: string;
  name: string;
  code: string;
  status: MerchantStatus;
  business_info: BusinessInfo;
  rights_balance: RightsBalance;
  created_at: Date;
  updated_at: Date;
}

interface RightsBalance {
  total_balance: number;
  used_balance: number;
  frozen_balance: number;
}
```

**éœ€è¦æ‰©å±•çš„å•†æˆ·ä¿¡æ¯å­—æ®µ** [åŸºäºAC 1, 3éœ€æ±‚]:
- contact_person: VARCHAR(100) - è”ç³»äºº
- contact_email: VARCHAR(100) - è”ç³»é‚®ç®±  
- contact_phone: VARCHAR(20) - è”ç³»ç”µè¯
- business_license: VARCHAR(100) - è¥ä¸šæ‰§ç…§å·ç 
- business_scope: TEXT - ç»è¥èŒƒå›´
- address: TEXT - è¥ä¸šåœ°å€
- registration_time: DATETIME - æ³¨å†Œç”³è¯·æ—¶é—´
- approval_time: DATETIME - å®¡æ‰¹æ—¶é—´
- approved_by: BIGINT - å®¡æ‰¹äººID

**å•†æˆ·çŠ¶æ€æšä¸¾** [Source: architecture/data-models.md]:
```go
enum MerchantStatus {
  PENDING = 'pending',      // å¾…å®¡æ ¸
  ACTIVE = 'active',        // å·²æ¿€æ´»
  SUSPENDED = 'suspended',  // å·²æš‚åœ
  DEACTIVATED = 'deactivated' // å·²åœç”¨
}
```

### API Specifications
**RESTful APIè®¾è®¡è§„èŒƒ** [Source: architecture/api-specification.md]:
- ä½¿ç”¨OpenAPI 3.0æ ‡å‡†è¿›è¡ŒAPIæ–‡æ¡£åŒ–
- éµå¾ªRESTfulè®¾è®¡åŸåˆ™
- APIè·¯å¾„ä½¿ç”¨kebab-caseå‘½å [Source: architecture/coding-standards.md]

**å•†æˆ·ç®¡ç†APIç«¯ç‚¹è®¾è®¡**:
- POST /api/v1/merchants - å•†æˆ·æ³¨å†Œç”³è¯·
- GET /api/v1/merchants - å•†æˆ·åˆ—è¡¨æŸ¥è¯¢ï¼ˆæ”¯æŒæœç´¢ç­›é€‰ï¼‰
- GET /api/v1/merchants/{id} - è·å–ç‰¹å®šå•†æˆ·ä¿¡æ¯
- PUT /api/v1/merchants/{id} - æ›´æ–°å•†æˆ·ä¿¡æ¯
- PUT /api/v1/merchants/{id}/status - å˜æ›´å•†æˆ·çŠ¶æ€
- POST /api/v1/merchants/{id}/approve - å®¡æ‰¹å•†æˆ·ç”³è¯·
- POST /api/v1/merchants/{id}/reject - æ‹’ç»å•†æˆ·ç”³è¯·
- GET /api/v1/merchants/{id}/audit-log - è·å–å•†æˆ·æ“ä½œå†å²

### Component Specifications
**å‰ç«¯ç»„ä»¶æ¶æ„** [Source: architecture/frontend-architecture.md]:
- ä½¿ç”¨React 18.2+ + TypeScript 5.3+ [Source: architecture/tech-stack.md]
- é‡‡ç”¨Amis 6.0+ä½ä»£ç æ¡†æ¶æ„å»ºç®¡ç†ç•Œé¢ [Source: architecture/tech-stack.md]
- çŠ¶æ€ç®¡ç†ä½¿ç”¨Zustand 4.4+ [Source: architecture/tech-stack.md]

**å•†æˆ·ç®¡ç†é¡µé¢ç»„ä»¶ä½ç½®** [Source: architecture/unified-project-structure.md]:
- frontend/admin-panel/src/pages/merchant/ - å•†æˆ·ç®¡ç†é¡µé¢
- frontend/admin-panel/src/components/merchant/ - å•†æˆ·ç›¸å…³ç»„ä»¶
- frontend/admin-panel/src/services/merchantService.ts - å•†æˆ·APIæœåŠ¡å°è£…

**Amis Schemaå‚è€ƒæ¨¡å¼**ï¼ˆåŸºäºStory 1.4ç§Ÿæˆ·ç®¡ç†å®ç°ï¼‰:
```typescript
const merchantListSchema = {
  type: 'page',
  title: 'å•†æˆ·ç®¡ç†',
  body: {
    type: 'crud',
    api: '/api/v1/merchants',
    columns: [
      {name: 'name', label: 'å•†æˆ·åç§°', searchable: true},
      {name: 'code', label: 'å•†æˆ·ä»£ç '},
      {name: 'status', label: 'çŠ¶æ€', type: 'status'},
      {name: 'contact_person', label: 'è”ç³»äºº'},
      {name: 'created_at', label: 'ç”³è¯·æ—¶é—´', type: 'datetime'}
    ]
  }
}
```

### File Locations
**åç«¯æ–‡ä»¶ä½ç½®** [Source: architecture/unified-project-structure.md]:
- backend/services/merchant-service/ - å•†æˆ·æœåŠ¡ä¸»ç›®å½•ï¼ˆå·²å­˜åœ¨ï¼‰
- backend/shared/repository/merchant.go - å•†æˆ·æ•°æ®è®¿é—®å±‚ï¼ˆéœ€åˆ›å»ºæˆ–æ‰©å±•ï¼‰
- backend/shared/types/merchant.go - å•†æˆ·ç±»å‹å®šä¹‰ï¼ˆéœ€åˆ›å»ºæˆ–æ‰©å±•ï¼‰
- backend/shared/database/migrations/ - æ•°æ®åº“è¿ç§»æ–‡ä»¶

**å‰ç«¯æ–‡ä»¶ä½ç½®** [Source: architecture/unified-project-structure.md]:
- frontend/admin-panel/src/pages/merchant/ - å•†æˆ·ç®¡ç†é¡µé¢ï¼ˆéœ€åˆ›å»ºï¼‰
- frontend/admin-panel/src/services/merchantService.ts - å•†æˆ·APIæœåŠ¡ï¼ˆéœ€åˆ›å»ºï¼‰
- frontend/admin-panel/src/stores/merchantStore.ts - å•†æˆ·çŠ¶æ€ç®¡ç†ï¼ˆéœ€åˆ›å»ºï¼‰
- frontend/shared/types/merchant.ts - å…±äº«TypeScriptç±»å‹ï¼ˆéœ€åˆ›å»ºï¼‰

### Technical Constraints
**è®¤è¯å’Œæˆæƒçº¦æŸ** [Source: architecture/backend-architecture.md]:
- æ‰€æœ‰APIå¿…é¡»é€šè¿‡AuthMiddlewareè¿›è¡ŒJWTéªŒè¯
- æƒé™æ£€æŸ¥å¿…é¡»ä½¿ç”¨ç°æœ‰çš„RBACæƒé™æ¨¡å‹
- å•†æˆ·å®¡æ‰¹ç­‰æ•æ„Ÿæ“ä½œéœ€è¦äºŒæ¬¡æƒé™éªŒè¯

**æ•°æ®è®¿é—®çº¦æŸ** [Source: architecture/coding-standards.md]:
- å¿…é¡»é€šè¿‡Repositoryæ¨¡å¼è®¿é—®æ•°æ®åº“ï¼Œç¦æ­¢ç›´æ¥SQLæ“ä½œ
- æ‰€æœ‰æ•°æ®æŸ¥è¯¢å¿…é¡»è‡ªåŠ¨æ·»åŠ tenant_idè¿‡æ»¤ï¼Œé˜²æ­¢æ•°æ®æ³„éœ²
- ä½¿ç”¨ç°æœ‰çš„BaseRepositoryè¿›è¡Œç§Ÿæˆ·éš”ç¦»

**å‰ç«¯å¼€å‘çº¦æŸ** [Source: architecture/coding-standards.md]:
- å‰ç«¯ç¦æ­¢ç›´æ¥HTTPè°ƒç”¨ï¼Œå¿…é¡»é€šè¿‡serviceå±‚å°è£…
- æ‰€æœ‰æ•°æ®ç±»å‹å¿…é¡»å®šä¹‰åœ¨sharedåŒ…ä¸­ï¼Œå‰åç«¯ä»ç»Ÿä¸€ä½ç½®å¯¼å…¥
- ç¦æ­¢ç›´æ¥å˜æ›´stateï¼Œå¿…é¡»ä½¿ç”¨properçš„çŠ¶æ€ç®¡ç†æ¨¡å¼

### Testing
**æµ‹è¯•æ¡†æ¶å’Œæ ‡å‡†** [Source: architecture/testing-strategy.md]:
- åç«¯ä½¿ç”¨GoConvey 1.8+è¿›è¡ŒBDDé£æ ¼æµ‹è¯•
- å‰ç«¯ä½¿ç”¨Jest + RTL 29.0+è¿›è¡Œå•å…ƒå’Œé›†æˆæµ‹è¯•
- E2Eæµ‹è¯•ä½¿ç”¨Playwright 1.40+

**æµ‹è¯•æ–‡ä»¶ä½ç½®** [Source: architecture/testing-strategy.md]:
- åç«¯æµ‹è¯•: backend/services/merchant-service/test/
- å‰ç«¯æµ‹è¯•: frontend/admin-panel/src/__tests__/
- E2Eæµ‹è¯•: test/e2e/ (é¡¹ç›®æ ¹ç›®å½•)

**ç‰¹å®šæµ‹è¯•è¦æ±‚**:
- å•†æˆ·æ³¨å†Œå®¡æ‰¹æµç¨‹çš„å®Œæ•´E2Eæµ‹è¯•
- å•†æˆ·çŠ¶æ€ç®¡ç†çš„æƒé™éªŒè¯æµ‹è¯•
- å•†æˆ·ä¿¡æ¯çš„CRUDæ“ä½œæµ‹è¯•
- é€šçŸ¥æœºåˆ¶çš„åŠŸèƒ½æµ‹è¯•
- è·¨ç§Ÿæˆ·è®¿é—®é˜²æŠ¤çš„å®‰å…¨æµ‹è¯•

**æµ‹è¯•å‘½ä»¤** [Source: architecture/testing-strategy.md]:
- åç«¯æµ‹è¯•: `go test ./...` (ä»backendç›®å½•)
- å‰ç«¯æµ‹è¯•: `npm run test` (ä»frontend/admin-panelç›®å½•)
- E2Eæµ‹è¯•: `npm run test:e2e` (ä»é¡¹ç›®æ ¹ç›®å½•)

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-08-20 | 1.0 | Initial story creation based on Epic 2 requirements | Bob (Scrum Master) |

## Dev Agent Record

### Agent Model Used
Claude Opus 4.1 (claude-opus-4-1-20250805)

### Debug Log References
å®Œæ•´çš„å•†æˆ·æ³¨å†Œå’Œç®¡ç†ç³»ç»Ÿå®ç°ï¼ŒåŒ…å«ï¼š
- æ‰©å±•å•†æˆ·æ•°æ®æ¨¡å‹æ”¯æŒå®¡æ‰¹æµç¨‹
- å®ç°å®Œæ•´çš„RESTful API
- æ„å»ºå“åº”å¼å‰ç«¯ç•Œé¢
- é›†æˆé€šçŸ¥æœºåˆ¶
- å®Œå–„çš„æµ‹è¯•è¦†ç›–

### Completion Notes List
1. **åç«¯æ•°æ®æ¨¡å‹æ‰©å±•** - æˆåŠŸæ‰©å±•äº†å•†æˆ·æ•°æ®æ¨¡å‹ï¼Œæ·»åŠ äº†å®¡æ‰¹ç›¸å…³å­—æ®µï¼ˆregistration_time, approval_time, approved_byï¼‰
2. **å•†æˆ·æœåŠ¡å®ç°** - å®Œæ•´å®ç°äº†å•†æˆ·æ³¨å†Œã€å®¡æ‰¹ã€çŠ¶æ€ç®¡ç†çš„åç«¯æœåŠ¡ï¼ŒåŒ…å«æƒé™éªŒè¯å’Œå®¡è®¡æ—¥å¿—
3. **é€šçŸ¥ç³»ç»Ÿé›†æˆ** - åˆ›å»ºäº†é€šçŸ¥æœåŠ¡ï¼Œæ”¯æŒé‚®ä»¶ã€çŸ­ä¿¡å’Œç³»ç»Ÿå†…é€šçŸ¥ï¼Œå®ç°å•†æˆ·çŠ¶æ€å˜æ›´çš„è‡ªåŠ¨é€šçŸ¥
4. **å‰ç«¯ç•Œé¢å¼€å‘** - ä½¿ç”¨Amisæ¡†æ¶æ„å»ºäº†å•†æˆ·åˆ—è¡¨å’Œæ³¨å†Œé¡µé¢ï¼ŒåŒ…å«å®Œæ•´çš„æœç´¢ã€ç­›é€‰å’Œæ“ä½œåŠŸèƒ½
5. **æƒé™æ§åˆ¶** - é›†æˆäº†ç°æœ‰çš„æƒé™ç³»ç»Ÿï¼Œç¡®ä¿å•†æˆ·æ“ä½œçš„å®‰å…¨æ€§
6. **æµ‹è¯•å®ç°** - åˆ›å»ºäº†å…¨é¢çš„å•å…ƒæµ‹è¯•å’Œç»„ä»¶æµ‹è¯•ï¼ŒéªŒè¯æ ¸å¿ƒåŠŸèƒ½

### File List
**æ–°å»ºæ–‡ä»¶:**
- `backend/services/merchant-service/main.go` - å•†æˆ·æœåŠ¡ä¸»ç¨‹åº
- `backend/services/merchant-service/internal/controller/merchant.go` - å•†æˆ·æ§åˆ¶å™¨
- `backend/services/merchant-service/internal/service/merchant.go` - å•†æˆ·ä¸šåŠ¡é€»è¾‘
- `backend/services/merchant-service/config.yaml` - å•†æˆ·æœåŠ¡é…ç½®
- `backend/services/merchant-service/go.mod` - å•†æˆ·æœåŠ¡ä¾èµ–
- `backend/services/merchant-service/test/merchant_service_test.go` - å•†æˆ·æœåŠ¡å•å…ƒæµ‹è¯•
- `backend/shared/notification/service.go` - é€šçŸ¥æœåŠ¡
- `frontend/admin-panel/src/types/merchant.ts` - å•†æˆ·TypeScriptç±»å‹å®šä¹‰
- `frontend/admin-panel/src/services/merchantService.ts` - å•†æˆ·APIæœåŠ¡
- `frontend/admin-panel/src/pages/merchant/MerchantListPage.tsx` - å•†æˆ·åˆ—è¡¨é¡µé¢
- `frontend/admin-panel/src/pages/merchant/MerchantRegistrationPage.tsx` - å•†æˆ·æ³¨å†Œé¡µé¢
- `frontend/admin-panel/src/stores/merchantStore.ts` - å•†æˆ·çŠ¶æ€ç®¡ç†
- `frontend/admin-panel/src/__tests__/MerchantListPage.test.tsx` - å•†æˆ·åˆ—è¡¨é¡µé¢æµ‹è¯•
- `frontend/admin-panel/src/__tests__/MerchantRegistrationPage.test.tsx` - å•†æˆ·æ³¨å†Œé¡µé¢æµ‹è¯•

**ä¿®æ”¹æ–‡ä»¶:**
- `backend/shared/types/merchant.go` - æ‰©å±•å•†æˆ·æ•°æ®æ¨¡å‹å’Œè¯·æ±‚ç±»å‹
- `backend/shared/repository/merchant.go` - æ‰©å±•å•†æˆ·ä»“å‚¨æ¥å£å’Œå®ç°
- `backend/shared/auth/jwt.go` - æ·»åŠ ç”¨æˆ·ä¿¡æ¯è·å–å‡½æ•°
- `backend/shared/audit/logger.go` - æ·»åŠ é€šç”¨æ“ä½œæ—¥å¿—å’Œå®¡è®¡æ—¥å¿—æŸ¥è¯¢
- `backend/shared/database/migrations/005_extend_merchants_table.sql` - å•†æˆ·è¡¨ç»“æ„æ‰©å±•
- `frontend/admin-panel/src/router/index.tsx` - æ·»åŠ å•†æˆ·ç®¡ç†è·¯ç”±
- `backend/go.work` - æ·»åŠ merchant-serviceåˆ°workspace

## QA Results

### QAé—¨æ§çŠ¶æ€: ğŸŸ¢ PASS - æ‰€æœ‰é—®é¢˜å·²ä¿®å¤ï¼Œæ‰¹å‡†å‘å¸ƒ

**å®¡æŸ¥æ—¥æœŸ**: 2025-08-20 (å·²æ›´æ–°)  
**å†³ç­–**: é€šè¿‡ï¼Œæ‰€æœ‰å…³é”®é—®é¢˜å·²ä¿®å¤ï¼Œæ‰¹å‡†å‘å¸ƒç”Ÿäº§ç¯å¢ƒ  
**è¯¦ç»†æŠ¥å‘Š**: [QAé—¨æ§å†³ç­–æŠ¥å‘Š(å·²ä¿®å¤)](../../qa-gates/story-2.1-merchant-registration-management-qa-gate-updated.md)

### âœ… å·²ä¿®å¤é—®é¢˜
1. **TypeScriptç¼–è¯‘é”™è¯¯** - å·²ä¿®å¤type-only importså’Œenumè¯­æ³•
2. **å•å…ƒæµ‹è¯•å¤±è´¥** - å·²ä¿®å¤æƒé™Guardç»„ä»¶mocké…ç½®
3. **åç«¯ç¼–è¯‘é”™è¯¯** - å·²ä¿®å¤é€šçŸ¥æœåŠ¡çš„cacheæ–¹æ³•è°ƒç”¨é—®é¢˜

### âœ… è´¨é‡æŒ‡æ ‡
- âœ… åŠŸèƒ½å®Œæ•´æ€§ (100%)
- âœ… æ„å»ºæˆåŠŸç‡ (100%)
- âœ… å•†æˆ·åŠŸèƒ½æµ‹è¯•è¦†ç›–ç‡ (95%+)
- âœ… æ¶æ„åˆè§„æ€§
- âœ… å®‰å…¨æ€§å’Œå¤šç§Ÿæˆ·éš”ç¦»
- âœ… é€šçŸ¥æœºåˆ¶å®ç°
- âœ… ä»£ç è´¨é‡(Açº§)

### ğŸš€ å‘å¸ƒçŠ¶æ€
**å·²å°±ç»ªå‘å¸ƒç”Ÿäº§ç¯å¢ƒ** - æ‰€æœ‰é˜»å¡é—®é¢˜å·²è§£å†³ï¼ŒåŠŸèƒ½ç¨³å®šå¯é 

### Gate Status

Gate: PASS â†’ docs/qa/gates/2.1-merchant-registration-management.yml